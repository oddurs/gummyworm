# ğŸ› GUMMYWORM

```
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘
â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘
 â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•â•šâ•â•     â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•šâ•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•
```

**Transform images into glorious ASCII art!** ğŸ›

A playful, feature-rich, and extensible command-line tool for converting images to ASCII art.

## Features

- ğŸ–¼ï¸ **Multiple image format support** - JPEG, PNG, GIF, BMP, TIFF, WebP, and more
- ğŸ­ **12+ built-in character palettes** - From simple to detailed, blocks to emoji
- ğŸ¨ **256-color ANSI output** - Full color mode for terminal display
- ğŸ”„ **Aspect ratio preservation** - Images look right in the terminal
- ğŸ“ **Customizable dimensions** - Control width and height
- ğŸŒ™ **Invert mode** - For images with dark backgrounds
- ğŸ’¾ **File output** - Save ASCII art to files
- ğŸ”§ **Extensible** - Custom palettes via files or inline strings
- ğŸ“¦ **Modular architecture** - Clean, maintainable code structure

## Project Structure

```
gummyworm/
â”œâ”€â”€ gummyworm           # Main entry point (convenience wrapper)
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ gummyworm       # Primary executable
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ config.sh       # Configuration and constants
â”‚   â”œâ”€â”€ utils.sh        # Logging and utility functions
â”‚   â”œâ”€â”€ palettes.sh     # Palette management
â”‚   â”œâ”€â”€ image.sh        # Image processing functions
â”‚   â”œâ”€â”€ converter.sh    # Core ASCII conversion engine
â”‚   â””â”€â”€ cli.sh          # Command-line interface
â”œâ”€â”€ palettes/
â”‚   â””â”€â”€ *.palette       # Custom palette files
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_basic.sh   # Test suite
â”œâ”€â”€ docs/               # Additional documentation
â””â”€â”€ README.md
```

## Installation

### Prerequisites

- **Bash** 4.0+ (most Linux/macOS systems)
- **ImageMagick** (for image processing)
- **Python 3** (optional, for unicode palette support)

```bash
# Ubuntu/Debian
sudo apt install imagemagick

# macOS
brew install imagemagick

# Fedora/RHEL
sudo dnf install ImageMagick
```

### Install

```bash
# Clone or download
git clone https://github.com/example/gummyworm.git
cd gummyworm

# Make executable
chmod +x gummyworm bin/gummyworm

# Optional: symlink to PATH
sudo ln -s "$(pwd)/bin/gummyworm" /usr/local/bin/gummyworm
```

## Quick Start

```bash
# Basic conversion
./gummyworm photo.jpg

# With color output
./gummyworm -c sunset.png

# Wider output for more detail
./gummyworm -w 120 landscape.jpg

# Use block characters
./gummyworm -p blocks portrait.png

# Emoji mode! ğŸŒ•
./gummyworm -p emoji cat.jpg
```

## Usage

```
gummyworm [OPTIONS] <image_file>
```

### Options

| Option | Description | Default |
|--------|-------------|---------|
| `-w, --width <N>` | Output width in characters | 80 |
| `-h, --height <N>` | Output height in lines | auto |
| `-p, --palette <n>` | Character palette to use | standard |
| `-c, --color` | Enable ANSI color output | off |
| `-i, --invert` | Invert brightness (dark â†” light) | off |
| `-o, --output <FILE>` | Save output to file | stdout |
| `-l, --list-palettes` | Show available palettes | - |
| `-q, --quiet` | Suppress info messages | off |
| `--no-aspect` | Don't preserve aspect ratio | - |
| `--help` | Show help message | - |
| `--version` | Show version | - |

## Character Palettes

View available palettes with `gummyworm --list-palettes`:

| Palette | Characters | Best For |
|---------|------------|----------|
| `standard` | ` .:-=+*#%@` | General use |
| `detailed` | 72 ASCII chars | High detail photos |
| `simple` | ` .oO@` | Quick previews |
| `blocks` | ` â–‘â–’â–“â–ˆ` | High contrast images |
| `binary` | ` â–ˆ` | Silhouettes |
| `dots` | ` â â ƒâ ‡â ¿â£¿` | Braille-style art |
| `emoji` | ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ• | Fun social posts |
| `stars` | ` Â·âœ¦â˜…âœ·âœ¸âœ¹` | Dreamy effects |
| `hearts` | ` â™¡â™¥â¤ğŸ’–ğŸ’—` | Love-themed art |
| `matrix` | ` 01` | Matrix/hacker vibe |
| `retro` | ` .:â–‘â–’â–“â–ˆ` | Retro computing |

### Custom Palettes

**Inline:**
```bash
./gummyworm -p " .oO0@#" image.jpg
```

**File-based:** Create `palettes/mypalette.palette`:
```
# My custom palette
# Characters from light to dark
 Â·â€¢â—â—‰â¬¤
```

Then use: `./gummyworm -p mypalette image.jpg`

## Module Reference

### lib/config.sh
Global configuration, constants, version info, and color codes.

### lib/utils.sh
Utility functions:
- `log_info`, `log_error`, `log_success`, `log_warn`, `log_debug`
- `die`, `die_usage`
- `command_exists`, `file_readable`
- `is_positive_int`, `is_non_negative_int`
- `trim`, `is_blank`

### lib/palettes.sh
Palette management:
- `palette_get <name>` - Get palette string
- `palette_exists <name>` - Check if palette exists
- `palette_list` - List all palettes
- `palette_validate <string>` - Validate palette
- `palette_to_array <string> <arrayname>` - Parse to array

### lib/image.sh
Image processing:
- `image_check_deps` - Verify ImageMagick installed
- `image_validate <file>` - Validate image file
- `image_dimensions <file>` - Get "width height"
- `image_extract_pixels <file> <w> <h> <output>` - Extract pixel data
- `calc_brightness <r> <g> <b>` - Calculate luminance
- `calc_dimensions <ow> <oh> <tw> <th> <preserve>` - Calculate output size

### lib/converter.sh
Core conversion:
- `convert_to_ascii <image> <w> <h> <palette> <invert> <color> <aspect>` - Main conversion
- `rgb_to_ansi <r> <g> <b>` - RGB to ANSI color code
- `save_to_file <content> <file> <strip_ansi>` - Save output

### lib/cli.sh
User interface:
- `show_banner`, `show_help`, `show_version`, `show_palettes`
- `parse_args "$@"` - Parse CLI arguments (sets `ARG_*` globals)

## Testing

```bash
# Run test suite
chmod +x tests/test_basic.sh
./tests/test_basic.sh
```

## Extending Gummyworm

### Adding a New Palette

1. **Built-in:** Edit `lib/palettes.sh`, add to `BUILTIN_PALETTES` array
2. **Custom file:** Create `palettes/yourname.palette`

### Using as a Library

```bash
#!/bin/bash
export GUMMYWORM_ROOT="/path/to/gummyworm"

source "$GUMMYWORM_ROOT/lib/config.sh"
source "$GUMMYWORM_ROOT/lib/utils.sh"
source "$GUMMYWORM_ROOT/lib/palettes.sh"
source "$GUMMYWORM_ROOT/lib/image.sh"
source "$GUMMYWORM_ROOT/lib/converter.sh"

# Use functions directly
result=$(convert_to_ascii "image.jpg" 80 0 " .:-=+*#%@" false false true)
echo "$result"
```

### Adding New Features

The modular structure makes it easy to extend:
- Add new output formats in `lib/converter.sh`
- Add new CLI options in `lib/cli.sh`
- Add new image operations in `lib/image.sh`

## Technical Details

- Uses ImageMagick for image processing
- Luminance formula: `(RÃ—299 + GÃ—587 + BÃ—114) / 1000`
- Color output: 256-color ANSI (6Ã—6Ã—6 color cube)
- Aspect ratio: Assumes 2:1 terminal character height:width

## License

MIT License - feel free to use, modify, and share!

---

Made with â¤ï¸ and ğŸ›

*"Wiggling your images into ASCII since 2024"*
